---
layout: post
title: mysql随笔
category: 杂项
tags: git
keywords:
description:
---

### 查看事务隔离级别

    select @@tx_isolation;


### gtid

https://jin-yang.github.io/post/mysql-gtid.html

# 获取日期的秒

        UNIX_TIMESTAMP(date)
        day(time)

# 导入与导出
        导出表结构：mysqldump -u用户名 -p密码 -d 数据库名 表名> db.sql
        导出表结构和数据：mysqldump -u用户名 -p密码 数据库名 > db.sql
        导入sql文件：source /home/abc/db.sql;
        导入sql文件：mysql -u用户名 -p密码 数据库名 < db.sql

# mysqldump 报错

报错： Couldn't execute 'SET OPTION SQL_QUOTE_SHOW_CREATE=1'

原因： mysql server 端 和 连接端的mysql版本不一致。

# mysql root密码忘记
使用无需鉴权模式运行

          cd /usr/local/mysql/bin/
          sudo su
          ./mysqld_safe --skip-grant-tables &

# 查看一个实例上每个db大小

        use information_schema;
        select table_schema, concat(round(sum(data_length/1024/1024/1024),2),'GB') as data from tables group by table_schema;
